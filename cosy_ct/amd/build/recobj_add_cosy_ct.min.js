define(["jquery","core/ajax"],(function(e,c){var t={init:function(){e("button#id_submitbutton_create_rec_obj").on("click",t.addrecobj),t.anchorid=e("input#id_anchor").val()},description:null,category:null,approach:null,media:null,type:null,anchorid:null,addrecobj:function(){var o=document.getElementById("id_description_rec_obj").value,n=document.getElementById("id_category_rec_obj").value,a=document.getElementById("id_approach_rec_obj").value,i=document.getElementById("id_type_rec_obj").value,d=[],r="";e("input:checkbox[name=type]:checked").each((function(){d.push(e(this).val()),r+=e(this).val()})),M.util.js_pending("block_cosy_ct-create_rec_object"),c.call([{methodname:"block_cosy_ct_create_rec_object",args:{description:o,anchorid:t.anchorid,categoryid:n,approachid:a,typeid:i,mediasid:r}}])[0].done((function(c){alert("A new recommendation object was created"),window.onbeforeunload=null,e("button#id_cancelbutton_create_rec_obj").click(),M.util.js_complete("block_cosy_ct-create_rec_object")}))}};return t}));