define(["jquery","core/ajax"],(function(c,e){var o={init:function(){c("button#id_submitbutton_add_comp_ass").on("click",o.addcompass),o.recobjid=c("input#recobj_id").val()},recobjid:null,addcompass:function(){var t="";c("input:checkbox[name=compselected]:checked").each((function(){t+=c(this).val()+"/"})),M.util.js_pending("block_cosy_ct-create_comp_ass"),e.call([{methodname:"block_cosy_ct_create_comp_ass",args:{recobjid:o.recobjid,competenciesids:t}}])[0].done((function(e){alert("A competency was associated to the current recommendation object"),c("button#id_cancelbutton_add_comp_ass").click(),M.util.js_complete("block_cosy_ct-create_comp_ass")}))}};return o}));